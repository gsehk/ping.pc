webpackJsonp([1],[,,,,,,,,,function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createAPI=e.createRequestURI=void 0;var s=a(16),r=function(t){return t&&t.__esModule?t:{default:t}}(s),n=window.PC,i=n.baseURL,o=n.api;e.createRequestURI=function(t){return i+"/"+t},e.createAPI=function(t){return o+"/"+t};r.default.defaults.headers.common["X-Requested-With"]="XMLHttpRequest";var u=document.head.querySelector('meta[name="csrf-token"]');u?r.default.defaults.headers.common["X-CSRF-TOKEN"]=u.content:console.error("CSRF token not found: https://laravel.com/docs/csrf#csrf-x-csrf-token"),e.default=r.default},function(t,e,a){var s=a(1)(a(34),a(51),null,null);t.exports=s.exports},,function(t,e,a){"use strict";function s(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=a(3),n=s(r),i=a(52),o=s(i),u=a(46),l=s(u),c=a(47),d=s(c);n.default.use(o.default);var v=new o.default({mode:"hash",routes:[{path:"/",redirect:"authlist"},{path:"/authlist",component:l.default},{path:"/report",component:d.default}]});e.default=v},,,function(t,e,a){a(42);var s=a(1)(null,a(50),null,null);t.exports=s.exports},,,,,,,,,,,,,,,,,,,function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"Page",props:["current","last"],computed:{pagination:function(){var t=1;t=isNaN(t=~~this.current)?1:t;var e=1;e=isNaN(e=~~this.last)?1:e;var a=e>1,s=t-3;s=s<=1?1:s;var r=t+3;r=r>=e?e:r;var n=!1,i=[];if(t>s){n=t-1,s>1&&i.push({name:t<6?1:"1...",page:1});for(var o=s;o<t;o++)i.push({name:o,page:o})}var u=!1,l=[];if(t<r){for(var c=t+1;c<=r;c++)l.push({name:c,page:c});r<e&&l.push({name:t+4===e?e:"..."+e,page:e}),u=t+1}return{show:a,current:t,prevPages:i,nextPages:l,isNextPage:u,isPrevPage:n}}},methods:{pageGo:function(t){return t&&this.$emit("pageGo",t)}}}},function(t,e,a){"use strict";function s(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var a=arguments[e];for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(t[s]=a[s])}return t},n=a(9),i=s(n),o=a(10),u=s(o);e.default={name:"authlist",components:{Page:u.default},data:function(){return{loading:!1,tips:{error:null,success:null},auditID:"",state:[{value:"",label:"全部"},{value:-1,label:"未认证"},{value:1,label:"成功"},{value:2,label:"失败"}],search:{state:"",key:""},current_page:1,last_page:0,auth:[]}},created:function(){this.getAuthList()},methods:{dismisError:function(){this.tips.error=null,this.tips.success=null},getAuthList:function(t){var e=this;this.dismisError(),this.loadding=!0,i.default.get("/pc/admin/auth",{params:r({page:t||this.current_page},this.search)}).then(function(t){if(e.loadding=!1,!t.data.status)return e.tips.error="获取数据失败！";var a=t.data.data,s=void 0===a?[]:a;return e.auth=s,s.length?void 0:e.tips.error="暂无数据！"}).catch(function(t){var a=t.response;a=void 0===a?{}:a;var s=a.data;s=void 0===s?{}:s;s.errors;e.loadding=!1})},backAuth:function(t){var e=this;i.default.post("/pc/admin/auth/audit/"+t.id,{state:2}).then(function(t){if(e.auditID=null,!t.data.status)return e.tips.error="操作失败！";e.getAuthList()}).catch(function(t){var a=t.response;a=void 0===a?{}:a;var s=a.data;s=void 0===s?{}:s;s.errors;e.deleteID=null})},manageAuth:function(t){var e=this;i.default.post("/pc/admin/auth/audit/"+t.id,{state:1}).then(function(t){if(e.auditID=null,!t.data.status)return e.tips.error="操作失败！";e.getAuthList()}).catch(function(t){var a=t.response;a=void 0===a?{}:a;var s=a.data;s=void 0===s?{}:s;s.errors;e.deleteID=null})},verified2label:function(t){switch(t){case 0:return"未认证";case 1:return"成功";case 2:return"失败";default:return"未知状态"}},verified2stye:function(t){switch(t){case 0:return"info";case 1:return"";case 2:return"danger";default:return"info"}},pageGo:function(t){this.current_page=t,this.getAuthList()}}}},function(t,e,a){"use strict";function s(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var a=arguments[e];for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(t[s]=a[s])}return t},n=a(9),i=s(n),o=a(10),u=s(o);e.default={name:"report",components:{Page:u.default},data:function(){return{loading:!1,tips:{error:null,success:null},editID:"",state:[{value:-1,label:"未处理"},{value:1,label:"已处理"}],search:{state:"",key:""},current_page:1,last_page:0,report:[]}},methods:{dismisError:function(){this.tips.error=null,this.tips.success=null},getReportList:function(t){var e=this;this.dismisError(),this.loadding=!0,i.default.get("/pc/admin/denounce",{params:r({page:t||this.current_page},this.search)}).then(function(t){if(e.loadding=!1,!t.data.status)return e.tips.error="获取数据失败！";var a=t.data.data,s=void 0===a?[]:a;return e.report=s,s.length?void 0:e.tips.error="暂无数据！"}).catch(function(t){var a=t.response;a=void 0===a?{}:a;var s=a.data;s=void 0===s?{}:s;s.errors;e.loadding=!1})},managereport:function(t){var e=this;i.default.post("/pc/admin/denounce/handle/"+t,{state:1}).then(function(t){if(e.editID=null,!t.data.status)return e.tips.error="处理失败！";e.getReportList()}).catch(function(t){var a=t.response;a=void 0===a?{}:a;var s=a.data;s=void 0===s?{}:s;s.errors;e.editID=null})},deletereport:function(t){var e=this;i.default.post("/pc/admin/denounce/handle/"+t,{state:-1}).then(function(t){if(e.deleteID=null,!t.data.status)return e.tips.error="删除失败！";e.getReportList()}).catch(function(t){var a=t.response;a=void 0===a?{}:a;var s=a.data;s=void 0===s?{}:s;s.errors;e.deleteID=null})},state2label:function(t){switch(t){case 0:return"未处理";case 1:return"已处理";default:return"未处理"}},state2style:function(t){switch(t){case 0:return"info";case 1:return"";default:return"info"}},pageGo:function(t){this.current_page=t,this.getReportList()}},created:function(){this.getReportList()}}},function(t,e,a){"use strict";function s(t){return t&&t.__esModule?t:{default:t}}var r=a(3),n=s(r),i=a(12),o=s(i),u=a(15),l=s(u);window.$=window.jQuery=a(14),a(13);new n.default({router:o.default,el:"#app",render:function(t){return t(l.default)}})},,,function(t,e){},function(t,e){},function(t,e){},,,,function(t,e,a){a(40);var s=a(1)(a(35),a(48),null,null);t.exports=s.exports},function(t,e,a){a(41);var s=a(1)(a(36),a(49),null,null);t.exports=s.exports},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"component-container container-fluid"},[a("transition",{attrs:{name:"fade"}},[t.tips.error||t.tips.success?a("div",{staticClass:"alert alert-dismissible",class:t.tips.success?"alert-success":"alert-danger"},[a("button",{staticClass:"close",attrs:{type:"button"},on:{click:function(e){e.preventDefault(),t.dismisError(e)}}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])]),t._v(" "+t._s(t.tips.error||t.tips.success)+"\n    ")]):t._e()]),t._v(" "),a("div",{staticClass:"panel panel-default"},[a("div",{staticClass:"panel-heading"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-xs-3"},[a("div",{staticClass:"input-group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.search.key,expression:"search.key"}],staticClass:"form-control",attrs:{type:"text",placeholder:"用户名"},domProps:{value:t.search.key},on:{input:function(e){e.target.composing||(t.search.key=e.target.value)}}}),t._v(" "),a("span",{staticClass:"input-group-btn"},[a("button",{staticClass:"btn btn-default",attrs:{type:"button"},on:{click:function(e){t.getAuthList(1)}}},[t._v("搜索")])])])]),t._v(" "),a("div",{staticClass:"col-xs-3"},[a("div",{staticClass:"form-group rs"},t._l(t.state,function(e){return a("label",{staticClass:"radio-inline"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.search.state,expression:"search.state"}],attrs:{type:"radio",name:"optionsRadios"},domProps:{value:e.value,checked:t._q(t.search.state,e.value)},on:{click:function(e){t.getAuthList(1)},__c:function(a){t.search.state=e.value}}}),t._v(t._s(e.label)+"\n            ")])}))]),t._v(" "),a("div",{staticClass:"col-xs-4 text-right"},[a("Page",{attrs:{current:t.current_page,last:t.last_page},on:{pageGo:t.pageGo}})],1)])]),t._v(" "),a("div",{staticClass:"panel-body"},[a("table",{staticClass:"table table-hove text-center table-striped table-bordered"},[t._m(0),t._v(" "),a("tbody",t._l(t.auth,function(e){return a("tr",{key:e.id,class:t.verified2stye(e.verified)},[a("td",[t._v(t._s(e.user_id))]),t._v(" "),a("td",[t._v(t._s(e.user.name||""))]),t._v(" "),a("td",[t._v(t._s(e.realname))]),t._v(" "),a("td",[t._v(t._s(e.idcard))]),t._v(" "),a("td",[t._v(t._s(e.phone))]),t._v(" "),a("td",[t._v(t._s(e.info))]),t._v(" "),a("td",[e.storage?a("a",{attrs:{href:"/api/v1/storages/"+e.storage,target:"_blank",title:""}},[t._v("查看详情")]):a("span",[t._v("暂无认证资料")])]),t._v(" "),a("td",[t._v(t._s(t.verified2label(e.verified)))]),t._v(" "),a("td",[a("button",{staticClass:"btn btn-primary btn-sm",attrs:{type:"button",disabled:1===e.verified},on:{click:function(a){t.manageAuth(e)}}},[t._v("通过")]),t._v(" "),a("button",{staticClass:"btn btn-danger btn-sm",attrs:{type:"button",disabled:2===e.verified},on:{click:function(a){t.backAuth(e)}}},[t._v("驳回")])])])}))])])])],1)},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",[t._v("用户ID")]),t._v(" "),a("th",[t._v("用户名")]),t._v(" "),a("th",[t._v("真实姓名")]),t._v(" "),a("th",[t._v("身份证号")]),t._v(" "),a("th",[t._v("联系方式")]),t._v(" "),a("th",[t._v("认证补充")]),t._v(" "),a("th",[t._v("认证资料")]),t._v(" "),a("th",[t._v("认证状态")]),t._v(" "),a("th",[t._v("操作")])])])}]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"component-container container-fluid"},[a("transition",{attrs:{name:"fade"}},[t.tips.error||t.tips.success?a("div",{staticClass:"alert alert-dismissible",class:t.tips.success?"alert-success":"alert-danger"},[a("button",{staticClass:"close",attrs:{type:"button"},on:{click:function(e){e.preventDefault(),t.dismisError(e)}}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])]),t._v(" "+t._s(t.tips.error||t.tips.success)+"\n    ")]):t._e()]),t._v(" "),a("div",{staticClass:"panel panel-default"},[a("div",{staticClass:"panel-heading"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-xs-3"},[a("div",{staticClass:"input-group",class:{"has-errors has-error":t.search.error}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.search.key,expression:"search.key"}],staticClass:"form-control",attrs:{type:"text",placeholder:"输入关键字"},domProps:{value:t.search.key},on:{input:function(e){e.target.composing||(t.search.key=e.target.value)}}}),t._v(" "),a("span",{staticClass:"input-group-btn"},[a("input",{staticClass:"btn btn-default",attrs:{type:"button",value:"搜索"},on:{click:function(e){t.getReportList(1)}}})])])]),t._v(" "),a("div",{staticClass:"col-xs-4"},[a("div",{staticClass:"form-group rs"},t._l(t.state,function(e){return a("label",{staticClass:"radio-inline"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.search.state,expression:"search.state"}],attrs:{type:"radio",name:"optionsRadios"},domProps:{value:e.value,checked:t._q(t.search.state,e.value)},on:{click:function(e){t.getReportList(1)},__c:function(a){t.search.state=e.value}}}),t._v(t._s(e.label)+"\n            ")])}))]),t._v(" "),a("div",{staticClass:"col-xs-4 text-right"},[a("Page",{attrs:{current:t.current_page,last:t.last_page},on:{pageGo:t.pageGo}})],1)])]),t._v(" "),a("div",{staticClass:"panel-body"},[a("table",{staticClass:"table table-hove text-center table-striped table-bordered"},[t._m(0),t._v(" "),a("tbody",t._l(t.report,function(e){return a("tr",{key:e.id,class:t.state2style(e.state)},[a("td",[t._v(t._s(e.user.name))]),t._v(" "),a("td",[a("a",{attrs:{href:e.source_url,target:"_bank",title:"report.source_url"}},[t._v("前往查看")])]),t._v(" "),a("td",[t._v(t._s(e.reason))]),t._v(" "),a("td",[t._v(t._s(e.created_at))]),t._v(" "),a("td",[t._v(t._s(t.state2label(e.state)))]),t._v(" "),a("td",[a("button",{staticClass:"btn btn-primary btn-sm",attrs:{type:"button",disabled:1===e.state},on:{click:function(a){t.managereport(e.id)}}},[t._v("处理")]),t._v(" "),a("button",{staticClass:"btn btn-danger btn-sm",attrs:{type:"button",disabled:2===e.state},on:{click:function(a){t.deletereport(e.id)}}},[t._v("删除")])])])}))])])])],1)},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",[t._v("举报者")]),t._v(" "),a("th",[t._v("资源连接")]),t._v(" "),a("th",[t._v("举报理由")]),t._v(" "),a("th",[t._v("举报时间")]),t._v(" "),a("th",[t._v("处理状态")]),t._v(" "),a("th",[t._v("操作")])])])}]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("ul",{staticClass:"nav nav-tabs component-controller-nav"},[a("router-link",{attrs:{to:"/authlist",tag:"li","active-class":"active"}},[a("a",{attrs:{href:"#"}},[t._v("认证管理")])]),t._v(" "),a("router-link",{attrs:{to:"/report",tag:"li","active-class":"active"}},[a("a",{attrs:{href:"#"}},[t._v("举报管理")])])],1),t._v(" "),a("router-view")],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{directives:[{name:"show",rawName:"v-show",value:t.pagination.show,expression:"pagination.show"}]},[a("ul",{staticClass:"pagination ma0"},[a("li",[a("a",{attrs:{href:"#","aria-label":"Previous",disabled:!t.pagination.isPrevPage},on:{click:function(e){e.preventDefault(),e.stopPropagation(),t.pageGo(t.pagination.isPrevPage)}}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("«")])])]),t._v(" "),t._l(t.pagination.prevPages,function(e){return a("li",{key:e.page},[a("a",{attrs:{href:"#"},on:{click:function(a){a.preventDefault(),a.stopPropagation(),t.pageGo(e.page)}}},[t._v(t._s(e.name))])])}),t._v(" "),a("li",{staticClass:"active"},[a("a",{attrs:{href:"#"},on:{click:function(e){e.preventDefault(),e.stopPropagation(),t.pageGo(t.pagination.current)}}},[t._v(t._s(t.pagination.current))])]),t._v(" "),t._l(t.pagination.nextPages,function(e){return a("li",{key:e.page},[a("a",{attrs:{href:"#"},on:{click:function(a){a.preventDefault(),a.stopPropagation(),t.pageGo(e.page)}}},[t._v(t._s(e.name))])])}),t._v(" "),a("li",[a("a",{attrs:{href:"#","aria-label":"Next",disabled:!t.pagination.isNextPage},on:{click:function(e){e.preventDefault(),e.stopPropagation(),t.pageGo(t.pagination.isNextPage)}}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("»")])])])],2)])},staticRenderFns:[]}}],[37]);